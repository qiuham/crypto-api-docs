---
exchange: okx
source_url: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-bills-details-since-2021
anchor_id: trading-account-rest-api-get-bills-details-since-2021
api_type: REST
updated_at: 2026-01-15T23:27:49.980457
---

# Get bills details (since 2021)

Apply for bill data since 1 February, 2021 except for the current quarter.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/bills-history-archive`

> Response Example
    
    
    GET /api/v5/account/bills-history-archive?year=2023&quarter=Q4
    
    

#### Request Parameters

Parameter | Type | Required | Description  
---|---|---|---  
year | String | Yes | 4 digits year  
quarter | String | Yes | Quarter, valid value is `Q1`, `Q2`, `Q3`, `Q4`  
  
> Response Example
    
    
    {
        "code": "0",
        "data": [
            {
                "fileHref": "http://xxx",
                "state": "finished",
                "ts": "1646892328000"
            }
        ],
        "msg": ""
    }
    

#### Response Parameters

**Parameter** | **Type** | **Description**  
---|---|---  
fileHref | String | Download file link.   
The expiration of every link is 5 and a half hours. If you already apply the files for the same quarter, then it don’t need to apply again within 30 days.  
ts | String | The first request time when the server receives. Unix timestamp format in milliseconds, e.g. `1597026383085`  
state | String | Download link status   
"finished" "ongoing" "failed": Failed, please apply again  
It is only applicable to the data from the unified account. 

#### Field descriptions in the decompressed CSV file

**Parameter** | **Type** | **Description**  
---|---|---  
instType | String | Instrument type  
billId | String | Bill ID  
subType | String | Bill subtype  
ts | String | The time when the balance complete update, Unix timestamp format in milliseconds, e.g.`1597026383085`  
balChg | String | Change in balance amount at the account level  
posBalChg | String | Change in balance amount at the position level  
bal | String | Balance at the account level  
posBal | String | Balance at the position level  
sz | String | Quantity  
px | String | Price which related to subType  

* Trade filled price for
`1`: Buy `2`: Sell `3`: Open long `4`: Open short `5`: Close long `6`: Close short `204`: block trade buy `205`: block trade sell `206`: block trade open long `207`: block trade open short `208`: block trade close long `209`: block trade close short `114`: Forced repayment buy `115`: Forced repayment sell  

* Liquidation Price for
`100`: Partial liquidation close long `101`: Partial liquidation close short `102`: Partial liquidation buy `103`: Partial liquidation sell `104`: Liquidation long `105`: Liquidation short `106`: Liquidation buy `107`: Liquidation sell `16`: Repay forcibly `17`: Repay interest by borrowing forcibly `110`: Liquidation transfer in `111`: Liquidation transfer out  

* Delivery price for
`112`: Delivery long `113`: Delivery short  

* Exercise price for
`170`: Exercised `171`: Counterparty exercised `172`: Expired OTM  

* Mark price for
`173`: Funding fee expense `174`: Funding fee income  
ccy | String | Account balance currency  
pnl | String | Profit and loss  
fee | String | Fee  
Negative number represents the user transaction fee charged by the platform.   
Positive number represents rebate.  
[Trading fee rule](/en/fees)  
mgnMode | String | Margin mode  
`isolated` `cross` `cash`  
When bills are not generated by trading, the field returns ""  
instId | String | Instrument ID, e.g. `BTC-USDT`  
ordId | String | Order ID  
Return order ID when the type is `2`/`5`/`9`  
Return "" when there is no order.  
execType | String | Liquidity taker or maker  
`T`: taker `M`: maker  
interest | String | Interest  
tag | String | Order tag  
fillTime | String | Last filled time  
tradeId | String | Last traded ID  
clOrdId | String | Client Order ID as assigned by the client   
A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  
fillIdxPx | String | Index price at the moment of trade execution   
For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.  
fillMarkPx | String | Mark price when filled   
Applicable to FUTURES/SWAP/OPTIONS, return "" for other instrument types  
fillPxVol | String | Implied volatility when filled   
Only applicable to options; return "" for other instrument types  
fillPxUsd | String | Options price when filled, in the unit of USD   
Only applicable to options; return "" for other instrument types  
fillMarkVol | String | Mark volatility when filled   
Only applicable to options; return "" for other instrument types  
fillFwdPx | String | Forward price when filled   
Only applicable to options; return "" for other instrument types

---

# 获取账单流水（自 2021 年）

获取自 2021 年 2 月 1 日以来的账单数据

#### 限速：10 次/2s

#### 限速规则：User ID

#### 权限：读取

#### HTTP 请求

`GET /api/v5/account/bills-history-archive`

> 请求示例
    
    
    GET /api/v5/account/bills-history-archive?year=2023&quarter=Q4
    
    

#### 请求参数

参数名 | 类型 | 是否必须 | 描述  
---|---|---|---  
year | String | 是 | 4位数字的年份，如 `2023`  
quarter | String | 是 | 季度，有效值 `Q1` `Q2` `Q3` `Q4`  
  
> 返回结果
    
    
    {
        "code": "0",
        "data": [
            {
                "fileHref": "http://xxx",
                "state": "finished",
                "ts": "1646892328000"
            }
        ],
        "msg": ""
    }
    

#### 返回参数

参数名 | 类型 | 描述  
---|---|---  
fileHref | String | 文件链接。  
每个链接的有效期为 5 个半小时，如果已经申请过同一季度的数据，则30天内无需再次申请。  
ts | String | 服务端首次收到请求的时间，Unix时间戳的毫秒数格式 ，如 `1597026383085`  
state | String | 下载链接状态  
`finished`：已生成  
`ongoing`：进行中  
`failed`：生成失败，请重新生成  
  
#### 解压后CSV里的字段说明

**参数名** | **类型** | **描述**  
---|---|---  
instType | String | 产品类型  
billId | String | 账单ID  
subType | String | 账单子类型  
ts | String | 余额更新完成的时间，Unix时间戳的毫秒数格式，如 `1597026383085`  
balChg | String | 账户层面的余额变动数量  
posBalChg | String | 仓位层面的余额变动数量  
bal | String | 账户层面的余额数量  
posBal | String | 仓位层面的余额数量  
sz | String | 数量  
px | String | 价格，与 subType 相关  

* 为成交价格时有
`1`：买入  
`2`：卖出  
`3`：开多  
`4`：开空  
`5`：平多  
`6`：平空  
`204`：大宗交易买  
`205`：大宗交易卖  
`206`：大宗交易开多  
`207`：大宗交易开空  
`208`：大宗交易平多  
`209`：大宗交易平空  
`114`：自动换币买入  
`115`：自动换币卖出  

* 为强平价格时有
`100`：强减平多 `101`：强减平空 `102`：强减买入 `103`：强减卖出 `104`：强平平多 `105`：强平平空 `106`：强平买入 `107`：强平卖出 `16`：强制还币 `17`：强制借币还息 `110`：强平换币转入 `111`：强平换币转出  

* 为交割价格时有
`112`：交割平多 `113`：交割平空  

* 为行权价格时有
`170`：到期行权 `171`：到期被行权 `172`：到期作废  

* 为标记价格时有
`173`：资金费支出 `174`：资金费收入  
ccy | String | 账户余额币种  
pnl | String | 收益  
fee | String | 手续费  
正数代表平台返佣 ，负数代表平台扣除  
[手续费规则](/cn/fees)  
mgnMode | String | 保证金模式  
`isolated`：逐仓  
`cross`：全仓  
`cash`：非保证金  
如果账单不是由交易产生的，该字段返回 ""  
instId | String | 产品ID，如 `BTC-USDT`  
ordId | String | 订单ID  
无订单时，该字段返回 ""  
execType | String | 流动性方向  
`T`：taker  
`M`：maker  
interest | String | 利息  
tag | String | 订单标签  
fillTime | String | 最新成交时间  
tradeId | String | 最新成交ID  
clOrdId | String | 客户自定义订单ID  
fillIdxPx | String | 交易执行时的指数价格   
对于交叉现货币对，返回 baseCcy-USDT 的指数价格。 例 LTC-ETH，该字段返回 LTC-USDT 的指数价格。  
fillMarkPx | String | 成交时的标记价格，仅适用于 `交割`/`永续`/`期权`  
fillPxVol | String | 成交时的隐含波动率，仅适用于 `期权`，其他业务线返回空字符串""  
fillPxUsd | String | 成交时的期权价格，以USD为单位，仅适用于 `期权`，其他业务线返回空字符串""  
fillMarkVol | String | 成交时的标记波动率，仅适用于 `期权`，其他业务线返回空字符串""  
fillFwdPx | String | 成交时的远期价格，仅适用于 `期权`，其他业务线返回空字符串""